/* =====================================================
   Header & Navigation â€” ZekkTech
   Memperbaiki tampilan mobile + logo kiri
   ===================================================== */

/* Variabel global untuk tinggi header mobile (bisa disesuaikan) */
:root {
  --mobile-header-height: 72px;
}

/* ---------- Shell header dasar ---------- */
.header-shell {
  display:flex;
  align-items:center;
  gap:.75rem;
  padding: var(--header-py) var(--header-px);
  background: var(--bg-secondary-translucent);
  backdrop-filter: saturate(140%) blur(10px);
  -webkit-backdrop-filter: saturate(140%) blur(10px);
  border: 1px solid color-mix(in oklab, var(--border-color) 60%, transparent);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04), var(--shadow-lg);
  border-radius: var(--header-radius);
  overflow:hidden; /* menjaga bentuk pill di desktop */
  position:relative;
  z-index:1000;
}

/* ---------- Logo selalu di kiri dengan jarak ---------- */
.header-shell .logo-img {
  display:flex !important;
  align-items:center;
  margin-left:.75rem;       /* beri jarak dari tepi kiri */
  margin-right:0 !important;
  order:-10;
  flex:0 0 auto;
}
.header-shell .logo-img img {
  width:var(--logo-w) !important;
  height:var(--logo-h) !important;
  object-fit:cover;
  border-radius:9999px;
  display:block;
  margin:0 !important;
}
.logo-link,
.logo-text,
.site-title {
  gap:.25rem !important;
  margin-left:0 !important;
  padding-left:0 !important;
  position:relative;
  left:0;
}
.site-title a {
  color:var(--text-primary);
  text-decoration:none;
  font-weight:700;
}

/* ---------- Layout desktop: menu di tengah, utilitas di kanan ---------- */
.nav-links-desktop {
  display:flex;
  align-items:center;
  gap:1rem;
  flex:1 1 auto;
  min-width:0;
  position:relative;
}
.nav-links-desktop .nav-menu {
  flex:1 1 auto;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:1.25rem;
  min-width:0;
}
.nav-links-desktop .search-area {
  margin-left:auto;
}

/* ---------- Tombol tema & hamburger ---------- */
.theme-toggle,
.nav-toggle {
  background:var(--bg-secondary) !important;
  color:var(--text-secondary) !important;
  border:1px solid var(--border-color) !important;
  border-radius:9999px !important;
  padding:.5rem .75rem !important;
  font-size:1.1rem !important;
  line-height:1 !important;
  min-width:2.25rem !important;
  min-height:2.25rem !important;
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  cursor:pointer !important;
  transition:all .2s ease !important;
  text-decoration:none !important;
  appearance:none !important;
  outline:none !important;
  box-shadow:none !important;
  margin:0 !important;
}
.theme-toggle:hover,
.nav-toggle:hover {
  background:var(--bg-primary) !important;
  color:var(--text-primary) !important;
  box-shadow:var(--shadow) !important;
}
.theme-toggle:focus,
.nav-toggle:focus {
  outline:2px solid var(--accent-color) !important;
  outline-offset:2px !important;
}
.theme-toggle:active,
.nav-toggle:active {
  transform:translateY(1px) !important;
}

/* Menghilangkan tombol hamburger di desktop */
@media (min-width:1025px) {
  .nav-toggle { display:none !important; }
}

/* ---------- Tablet & Mobile ---------- */
@media (max-width:1023.98px) {
  /* header overflow harus visible agar dropdown tidak terpotong */
  .header-shell { overflow:visible; }

  /* sembunyikan teks logo/situs di layar kecil */
  .logo-text,
  .site-title { display:none !important; }
  /* Sembunyikan logo image di HP untuk menghindari ketimpa */
  .logo-img { display: none !important; }
  .logo-img img { display: none !important; }

  /* utilitas tetap baris tunggal, hamburger muncul */
  .nav-links-desktop {
    display:flex;
    align-items:center;
    justify-content:flex-end;
    gap:.5rem;
    position:relative;
    min-width:0;
    flex:1 1 auto;
  }
  .nav-toggle { display:inline-flex; }

  /* Dropdown mobile: keluar dari header, posisi fixed */
  .nav-menu {
    position:fixed;
    top:var(--mobile-header-height);
    right:.75rem;
    left:auto;
    width:min(86vw, 320px);
    max-height:60vh;
    overflow:auto;
    background:var(--bg-secondary);
    border:1px solid var(--border-color);
    box-shadow:var(--shadow-lg);
    border-radius:1rem;
    padding:1rem;
    z-index:1200;
    margin:0;
    opacity:0;
    visibility:hidden;
    transform:translateY(-10px);
    transition:opacity .2s ease, transform .2s ease, visibility .2s step-end;
  }
  /* Kelas .open akan di-toggle lewat JS saat tombol hamburger diklik */
  .nav-menu.open {
    opacity:1;
    visibility:visible;
    transform:translateY(0);
    display:block !important; /* force visible on mobile when open */
    transition:opacity .2s ease, transform .2s ease, visibility 0s linear;
  }

  /* susunan vertikal item menu */
  .nav-menu > ul,
  .nav-menu .menu {
    display:flex !important;
    flex-direction:column;
    gap:.5rem;
    list-style:none;
    margin:0;
    padding:0;
  }
  .nav-menu li { width:100%; }
  .nav-menu a {
    display:block;
    width:100%;
    box-sizing:border-box;
    padding:.75rem 1rem;
    border-radius:.5rem;
    color:var(--text-secondary) !important;
    text-decoration:none;
    font-size:.95rem;
    font-weight:500;
    transition:all .2s ease;
  }
  .nav-menu a:hover {
    background:var(--bg-primary);
    color:var(--text-primary) !important;
    transform:translateX(4px);
  }

  /* area pencarian tetap kompak */
  .search-area { margin-bottom:0; width:auto; flex:0 1 auto; }
  .search-container { width:auto; }
}

/* ---------- Mode lembar bawah untuk ponsel sangat kecil ---------- */
@media (max-width:480px) {
  .nav-menu {
    top:auto;
    bottom:0;
    right:0;
    left:0;
    width:100%;
    border-radius:1rem 1rem 0 0;
    max-height:60vh;
  }
  .nav-menu a {
    padding:1rem;
    font-size:1rem;
    border-bottom:1px solid var(--border-color);
  }
  .nav-menu a:last-child { border-bottom:none; }
}

/* Lock scroll saat menu terbuka (tambahkan .is-nav-open pada body via JS) */
body.is-nav-open { overflow:hidden; }
